(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{705:function(e,t){},722:function(e,t){},723:function(e,t){},728:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return w});n(547);var a=n(548),r=(n(531),n(532)),o=(n(533),n(534)),i=(n(527),n(526)),c=n(29),l=n(30),u=n(38),s=n(37),p=n(59),h=n(39),g=n(0),d=n.n(g),m=n(18),f=n(17),C=n(720),v=n.n(C),y=n(724),S=n.n(y),E=n(725),j=n(122),b=n.n(j),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).generateCSV=function(e){m.a.get("report/csv").then(function(e){if(console.log("response",e),200===e.status){var t=v.a.utils.json_to_sheet(e.data),n=v.a.utils.book_new();v.a.utils.book_append_sheet(n,t,"report"),v.a.writeFile(n,"report.xlsb")}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.generateJSON=function(e){m.a.get("report/json").then(function(e){console.log("response",e),200===e.status?n.setState({jsonData:e.data}):Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.generateChart=function(e){m.a.get("report/claimCount").then(function(e){if(console.log("response",e),200===e.status){var t=e.data.map(function(e){return[b()(e.month).format("MM-YYYY"),e.prCount,e.cpCount]});t.unshift(["Month","pr Count","cp Count"]),n.setState({data:t})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.approvedAmount=function(e){m.a.get("report/USDApproved").then(function(e){if(console.log("response",e),200===e.status){var t=e.data.map(function(e){return{month:b()(e.createdAt).format("MM-YYYY"),approved:e.ClaimInfoVisits.reduce(function(e,t){return e+=t.BillingInfos.reduce(function(e,t){return e+t.approved},0)/t.billingRate},0)}}).reduce(function(e,t){var n=e.findIndex(function(e){return e[0]===t.month});return n<0?e.push([t.month,t.approved]):e[n][1]+=t.approved,e},[]);t.unshift(["Month","USD total"]),n.setState({data:t})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.rejectedAmount=function(e){m.a.get("report/USDRejected").then(function(e){if(console.log("response",e),200===e.status){var t=e.data.map(function(e){return{month:b()(e.createdAt).format("MM-YYYY"),rejected:e.ClaimInfoVisits.reduce(function(e,t){return e+=t.BillingInfos.reduce(function(e,t){return e+(t.value-t.approved)},0)/t.billingRate},0)}}).reduce(function(e,t){var n=e.findIndex(function(e){return e[0]===t.month});return n<0?e.push([t.month,t.rejected]):e[n][1]+=t.rejected,e},[]);t.unshift(["Month","USD total"]),n.setState({data:t})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.countByValue=function(e){m.a.get("report/USDApproved").then(function(e){if(console.log("response",e),200===e.status){var t=e.data.map(function(e){return{approved:e.ClaimInfoVisits.reduce(function(e,t){return e+=t.BillingInfos.reduce(function(e,t){return e+t.approved},0)/t.billingRate},0)}}),a=t.length,r=t.filter(function(e){return e.approved>250}).length,o=[];o.push(["Amount","Count"]),o.push(["<=$250",a-r]),o.push([">$250",r]),n.setState({piedata:o})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.countByType=function(e){m.a.get("report/approvedClaimedCountByType").then(function(e){if(200===e.status){var t=e.data.map(function(e){return[e.policyType,e.policyTypeCount]});t.unshift(["Type","Count"]),console.log(t),n.setState({piedata:t})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.gause=function(e){m.a.get("report/turnaroundTime").then(function(e){if(console.log("response",e),200===e.status){var t=e.data.reduce(function(e,t){return e+b()(t.updatedAt).diff(b()(t.createdAt),"days")},0)/e.data.length,a=e.data.length/90;n.setState({gauge:[["Label","Value"],["Turnaround",t],["Per Day",a]]})}else Object(f.a)("error","Something wrong in retrieving CSV")}).catch(function(e){return console.log(e)})},n.test=function(e){m.a.get("report/test").then(function(e){console.log("report test",e)}).catch(function(e){return console.log(e)}),m.a.get("test").then(function(e){console.log("test test",e)}).catch(function(e){return console.log(e)}),m.a.get("claim/claims",{or:[{status:"pe"},{status:"re-pd"}]}).then(function(e){console.log("claim/claims",e)}).catch(function(e){return console.log(e)})},n.state={jsonData:[],data:null,piedata:null,gauge:[]},n.generateChart=n.generateChart.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(r.a,null,d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.generateCSV},"Excel")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.generateJSON},"Json")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.generateChart},"Chart")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.approvedAmount},"USD Approved")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.rejectedAmount},"USD Rejected")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.countByValue},"Approved Claims By value")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.countByType},"Approved Claims By Type")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.gause},"Gause")),d.a.createElement(o.a,{span:4},d.a.createElement(i.a,{type:"primary",onClick:this.test},"Test"))),d.a.createElement(r.a,null,d.a.createElement(a.a.Title,{level:4},"JSON:"),d.a.createElement(S.a,{src:this.state.jsonData})),d.a.createElement(r.a,null,d.a.createElement(a.a.Title,{level:4},"Chart:"),d.a.createElement(E.a,{width:300,height:300,chartType:"ColumnChart",loader:d.a.createElement("div",null,"Loading Chart"),data:this.state.data,options:{title:"Claims Count",chartArea:{width:"30%"},hAxis:{title:"Month",minValue:0},vAxis:{title:"Count"}},legendToggle:!0}),d.a.createElement(E.a,{width:400,height:120,chartType:"Gauge",loader:d.a.createElement("div",null,"Loading Chart"),data:this.state.gauge,options:{redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5}}),d.a.createElement(E.a,{width:300,height:300,chartType:"PieChart",loader:d.a.createElement("div",null,"Loading Chart"),data:this.state.piedata,options:{title:"Approved Claims Count: Split by Value",is3D:!0},legendToggle:!0})))}}]),t}(g.Component)}}]);
//# sourceMappingURL=14.5a15cc39.chunk.js.map