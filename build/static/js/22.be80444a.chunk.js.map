{"version":3,"sources":["settings/basicStyle.js","../../../shared/isomorphic/components/utility/layoutWrapper.style.js","../../../shared/isomorphic/components/utility/layoutWrapper.js","containers/Report/style.js","containers/Report/widgets-wrapper.js","containers/Report/shortWidget/style.js","containers/Report/shortWidget/sale-widget.js","containers/Report/longWidget/style.js","containers/Report/longWidget/sale-widget.js","containers/Report/d3Widget/style.js","containers/Report/d3Widget/d3-widget.js","containers/Report/d3Widget_single/style.js","containers/Report/d3Widget_single/d3-widget.js","containers/Report/index.js"],"names":["basicStyle","rowStyle","width","marginBottom","colStyle","gutter","LayoutContentWrapper","styled","div","props","className","children","WidgetWrapper","height","padding","palette","this","gutterTop","gutterRight","gutterBottom","gutterLeft","bgColor","wrapperStyle","marginTop","marginRight","marginLeft","backgroundColor","borderBottomLeftRadius","style","Component","SaleWidgetWrapper","options","data","chartType","title","loader","legendToggle","fontWeight","D3","ref","useRef","useState","window","innerWidth","setWidth","useEffect","handleResize","addEventListener","removeEventListener","svg","d3","current","parentNode","clientWidth","chart","append","attr","xScale","range","domain","map","s","moment","month","format","x1Array","Object","keys","shift","x1","bandwidth","yScale","colors","call","scale","tickSize","tickFormat","dynamicColor","group","selectAll","join","d","key","value","enter","on","actual","i","fill","transition","duration","text","a","margin","legend","remove","Math","max","apply","o","sum","toFixed","yScal","Report","loading1","setLoading1","loading2","setLoading2","loading3","setLoading3","loading4","setLoading4","loading5","setLoading5","loading6","setLoading6","turnaround","setTurnaround","perday","setPerday","approvedByPolicy","setApprovedByPolicy","approvedByValue","setApprovedByValue","claimCount","setClaimCount","usdApproved","setUsdApproved","usdRejected","setUsdRejected","subtract","chartDate","setChartDate","dateGraph","setDateGraph","SuperFetch","get","then","response","status","average","reduce","acc","curr","updatedAt","diff","createdAt","length","perDay","notification","error","message","catch","e","console","log","item","policyType","policyTypeCount","unshift","push","gt","lte","table","claim","datePickerClaim","datePickerPending","display","alignItems","justifyContent","size","Title","type","justify","RangePicker","defaultValue","onClick","param","picker","state","ws","XLSX","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","border","borderRadius","onChange","svgs","document","getElementsByClassName","index","html2canvas","canvas","link","createElement","href","toDataURL","download","click","lg","md","sm","xs","label","id","redFrom","redTo","yellowFrom","yellowTo","minorTicks","forceIFrame","chartArea","is3D","hAxis","minValue","vAxis"],"mappings":"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","file":"static/js/22.be80444a.chunk.js","sourcesContent":["const rowStyle = {\r\n  width: '100%',\r\n  marginBottom: '16px',\r\n};\r\nconst colStyle = {\r\n  marginBottom: '16px',\r\n};\r\nconst gutter = 16;\r\nconst basicStyle = {\r\n  rowStyle,\r\n  colStyle,\r\n  gutter,\r\n};\r\n\r\nexport default basicStyle;\r\n","import styled from 'styled-components';\r\n\r\nconst LayoutContentWrapper = styled.div`\r\n  padding: 40px 20px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  overflow: hidden;\r\n  @media only screen and (max-width: 767px) {\r\n    padding: 50px 20px;\r\n  }\r\n\r\n  @media (max-width: 580px) {\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\nexport { LayoutContentWrapper };\r\n","import React from 'react';\nimport { LayoutContentWrapper } from './layoutWrapper.style';\n\nexport default props => (\n  <LayoutContentWrapper\n    className={\n      props.className != null\n        ? `${props.className} isoLayoutContentWrapper`\n        : 'isoLayoutContentWrapper'\n    }\n    {...props}\n  >\n    {props.children}\n  </LayoutContentWrapper>\n);\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst WidgetWrapper = styled.div`\r\n  margin: 0 10px;\r\n\r\n  @media only screen and (max-width: 767) {\r\n    margin-right: 0 !important;\r\n  }\r\n`;\r\n\r\nconst WidgetBox = styled.div`\r\n  width: 100%;\r\n  height: ${props => (props.height ? `${props.height}px` : '100%')};\r\n  padding: ${props => (props.padding ? props.padding : '30px')};\r\n  background-color: #ffffff;\r\n  border: 1px solid ${palette('border', 2)};\r\n\r\n  canvas {\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n  }\r\n`;\r\n\r\nconst WidgetColumn = styled.div`\r\n  align-content: flex-start;\r\n`;\r\n\r\nexport { WidgetWrapper, WidgetBox, WidgetColumn };\r\n","import React, { Component } from 'react';\r\nimport { WidgetWrapper } from './style';\r\n\r\nexport default class extends Component {\r\n  render() {\r\n    const {\r\n      width,\r\n      gutterTop,\r\n      gutterRight,\r\n      gutterBottom,\r\n      gutterLeft,\r\n      padding,\r\n      bgColor,\r\n      children,\r\n    } = this.props;\r\n    const wrapperStyle = {\r\n      width: width,\r\n      marginTop: gutterTop,\r\n      marginRight: gutterRight,\r\n      marginBottom: gutterBottom,\r\n      marginLeft: gutterLeft,\r\n      padding: padding,\r\n      backgroundColor: bgColor,\r\n      borderBottomLeftRadius: 30,\r\n    };\r\n\r\n    return (\r\n      <WidgetWrapper className=\"isoWidgetsWrapper\" style={wrapperStyle}>\r\n        {children}\r\n      </WidgetWrapper>\r\n    );\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst SaleWidgetWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0px;\r\n  background-color: #ffffff;\r\n  overflow: hidden;\r\n  border: 1px solid ${palette('border', 2)};\r\n  border-radius: 25px;\r\n  margin: auto;\r\n  text-align: center;\r\n\r\n  .footer {\r\n    padding: 0px;\r\n    height: 50px;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    background-image: url('/images/icons/footer.png');\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    color: white;\r\n    text-align: center;\r\n    font-size: 150%;\r\n  }\r\n  .isoContent {\r\n  }\r\n`;\r\n\r\nexport { SaleWidgetWrapper };\r\n","import React, { Component } from 'react';\r\nimport { SaleWidgetWrapper } from './style';\r\nimport { Chart } from 'react-google-charts';\r\n\r\nexport default class extends Component {\r\n  render() {\r\n    const { options, data, chartType, title } = this.props;\r\n\r\n    return (\r\n      <SaleWidgetWrapper className=\"isoSaleWidget\">\r\n        <Chart\r\n          className=\"isoContent\"\r\n          height={300}\r\n          width={'100%'}\r\n          chartType={chartType}\r\n          loader={<div>Loading Chart</div>}\r\n          data={data}\r\n          options={options}\r\n          legendToggle\r\n        />\r\n        <div className=\"footer\">\r\n          <span style={{ fontWeight: 'bold' }}>{title}</span>\r\n        </div>\r\n      </SaleWidgetWrapper>\r\n    );\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst SaleWidgetWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 30px;\r\n  background-color: #ffffff;\r\n  overflow: hidden;\r\n  border: 1px solid ${palette('border', 2)};\r\n  border-radius: 25px;\r\n  .isoSaleLabel {\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    line-height: 1.2;\r\n    text-transform: uppercase;\r\n    color: ${palette('text', 0)};\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSalePrice {\r\n    font-size: 28px;\r\n    font-weight: 300;\r\n    line-height: 1.2;\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSaleDetails {\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n    line-height: 1.5;\r\n    color: ${palette('text', 2)};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport { SaleWidgetWrapper };\r\n","import React, { Component } from 'react';\r\nimport { SaleWidgetWrapper } from './style';\r\nimport { Chart } from 'react-google-charts';\r\n\r\nexport default class extends Component {\r\n  render() {\r\n    const { options, data, chartType } = this.props;\r\n\r\n    return (\r\n      <SaleWidgetWrapper className=\"isoSaleWidget\">\r\n        <Chart\r\n          height={300}\r\n          chartType={chartType}\r\n          loader={<div>Loading Chart</div>}\r\n          data={data}\r\n          options={options}\r\n          legendToggle\r\n        />\r\n      </SaleWidgetWrapper>\r\n    );\r\n  }\r\n}\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst WidgetWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #ffffff;\r\n  padding: 30px;\r\n  overflow: hidden;\r\n  border: 1px solid ${palette('border', 2)};\r\n  border-radius: 25px;\r\n  .isoSaleLabel {\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    line-height: 1.2;\r\n    text-transform: uppercase;\r\n    color: ${palette('text', 0)};\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSalePrice {\r\n    font-size: 28px;\r\n    font-weight: 300;\r\n    line-height: 1.2;\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSaleDetails {\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n    line-height: 1.5;\r\n    color: ${palette('text', 2)};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport { WidgetWrapper };\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { WidgetWrapper } from './style';\r\nimport moment from 'moment';\r\nimport * as d3 from 'd3';\r\n\r\nconst D3 = props => {\r\n  const ref = useRef(null);\r\n\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    const svg = d3.select(ref.current);\r\n\r\n    const margin = 80;\r\n    const width = ref.current.parentNode.clientWidth - margin - margin;\r\n\r\n    const height = props.height - 2 * margin;\r\n\r\n    const chart = svg\r\n      .append('g')\r\n      .attr('transform', `translate(${margin}, ${margin})`);\r\n\r\n    //scale\r\n    const xScale = d3\r\n      .scaleBand()\r\n      .range([0, width])\r\n      .domain(props.data.map(s => moment(s.month).format('L')))\r\n      .padding(0.4);\r\n\r\n    var x1Array = Object.keys(props.data[0]);\r\n    x1Array.shift();\r\n\r\n    const x1 = d3\r\n      .scaleBand()\r\n      .range([0, xScale.bandwidth()])\r\n      .domain(x1Array);\r\n\r\n    const yScale = d3\r\n      .scaleLinear()\r\n      .range([height, 0])\r\n      .domain([0, 500]);\r\n\r\n    var colors = d3.scaleOrdinal(['#d6e9c6', '#bce8f1', '#faebcc', '#ebccd1']);\r\n    const makeYLines = () => d3.axisLeft().scale(yScale);\r\n\r\n    //Chart\r\n    chart\r\n      .append('g')\r\n      .attr('transform', `translate(0, ${height})`)\r\n      .call(d3.axisBottom(xScale));\r\n\r\n    chart.append('g').call(d3.axisLeft(yScale));\r\n\r\n    chart\r\n      .append('g')\r\n      .attr('class', 'grid')\r\n      .call(\r\n        makeYLines()\r\n          .tickSize(-width, 0, 0)\r\n          .tickFormat('')\r\n      );\r\n    //https://zhuanlan.zhihu.com/p/38032622\r\n    //https://observablehq.com/@d3/grouped-bar-chart\r\n    //BAR\r\n    const groupKey = 'month';\r\n    const keys = ['ApprovedCount', 'DeclinedCount'];\r\n    var dynamicColor;\r\n    var group = chart\r\n      .append('g')\r\n      .selectAll('g')\r\n      .data(props.data)\r\n      .join('g')\r\n      .attr('transform', d => {\r\n        return `translate(${xScale(moment(d[groupKey]).format('L'))},0)`;\r\n      })\r\n      .selectAll('rect')\r\n      .data(d => {\r\n        return keys.map(key => ({ key, value: d[key] }));\r\n      })\r\n      .enter();\r\n    group\r\n      .append('rect')\r\n      .attr('x', d => {\r\n        return x1(d.key);\r\n      })\r\n      .attr('y', d => yScale(d.value))\r\n      .attr('width', x1.bandwidth())\r\n      .attr('height', d => yScale(0) - yScale(d.value))\r\n      .attr('fill', d => colors(d.key))\r\n      .attr('stroke', '#31708f')\r\n      .attr('stroke-width', '1')\r\n      .on('mouseenter', function(actual, i) {\r\n        dynamicColor = this.style.fill;\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(300)\r\n          .style('fill', '#3c763d');\r\n      })\r\n      .on('mouseleave', function() {\r\n        d3.selectAll('.value').attr('opacity', 1);\r\n\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(300)\r\n          .attr('opacity', 1)\r\n          .style('fill', dynamicColor);\r\n      });\r\n\r\n    group\r\n      .append('text')\r\n      .attr('class', 'value')\r\n      .attr('x', d => {\r\n        return x1(d.key) + x1.bandwidth() / 2;\r\n      })\r\n      .attr('y', d => yScale(d.value))\r\n      .attr('height', 5)\r\n      .attr('text-anchor', 'middle')\r\n      .text(a => `${a.value}`);\r\n\r\n    // barGroups\r\n    // .append('text')\r\n    // .attr('class', 'value')\r\n    // .attr('x', (a) =>{\r\n    //     return (xScale(moment(a.month).format('L')) + xScale.bandwidth()/2)\r\n    // })\r\n    // .attr('y', (a) => yScale(a.ApprovedCount) )\r\n    // .attr('text-anchor', 'middle')\r\n    // .text((a) => `${a.ApprovedCount}`)\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', -(height / 2) - margin)\r\n      .attr('y', margin / 2.4)\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('text-anchor', 'middle')\r\n      .text('Count');\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', width / 2 + margin)\r\n      .attr('y', height + margin * 1.7)\r\n      .attr('text-anchor', 'middle')\r\n      .text('Month');\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'title')\r\n      .attr('x', width / 2 + margin)\r\n      .attr('y', 40)\r\n      .attr('text-anchor', 'middle')\r\n      .text('Claim Count');\r\n\r\n    var legend = svg\r\n      .append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform', 'translate(' + width + ', 0)');\r\n    legend\r\n      .selectAll('rect')\r\n      .data(keys)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('x', 0)\r\n      .attr('y', function(d, i) {\r\n        return i * 18;\r\n      })\r\n      .attr('width', 12)\r\n      .attr('height', 12)\r\n      .attr('fill', function(d, i) {\r\n        return colors(d);\r\n      });\r\n\r\n    legend\r\n      .selectAll('text')\r\n      .data(keys)\r\n      .enter()\r\n      .append('text')\r\n      .text(function(d) {\r\n        return d;\r\n      })\r\n      .attr('x', 18)\r\n      .attr('y', function(d, i) {\r\n        return i * 18;\r\n      })\r\n      .attr('text-anchor', 'start')\r\n      .attr('alignment-baseline', 'hanging');\r\n\r\n    return () => {\r\n      svg.selectAll('*').remove();\r\n    };\r\n  }, [props.data, props.height, width]);\r\n\r\n  return (\r\n    <WidgetWrapper className=\"isoSaleWidget\">\r\n      <svg width={props.width} height={props.height} ref={ref}></svg>\r\n    </WidgetWrapper>\r\n  );\r\n};\r\n\r\nexport default D3;\r\n","import styled from 'styled-components';\r\nimport { palette } from 'styled-theme';\r\n\r\nconst WidgetWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #ffffff;\r\n  padding: 30px;\r\n  overflow: hidden;\r\n  border: 1px solid ${palette('border', 2)};\r\n  border-radius: 25px;\r\n  .isoSaleLabel {\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    line-height: 1.2;\r\n    text-transform: uppercase;\r\n    color: ${palette('text', 0)};\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSalePrice {\r\n    font-size: 28px;\r\n    font-weight: 300;\r\n    line-height: 1.2;\r\n    margin: 0 0 20px;\r\n  }\r\n\r\n  .isoSaleDetails {\r\n    font-size: 13px;\r\n    font-weight: 400;\r\n    line-height: 1.5;\r\n    color: ${palette('text', 2)};\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nexport { WidgetWrapper };\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { WidgetWrapper } from './style';\r\nimport moment from 'moment';\r\nimport * as d3 from 'd3';\r\n\r\nconst D3 = props => {\r\n  const ref = useRef(null);\r\n\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    const svg = d3.select(ref.current);\r\n\r\n    const margin = 80;\r\n    const width = ref.current.parentNode.clientWidth - margin - margin;\r\n\r\n    const height = props.height - 2 * margin;\r\n\r\n    const chart = svg\r\n      .append('g')\r\n      .attr('transform', `translate(${margin}, ${margin})`);\r\n\r\n    //scale\r\n    const xScale = d3\r\n      .scaleBand()\r\n      .range([0, width])\r\n      .domain(props.data.map(s => moment(s.month).format('L')))\r\n      .padding(0.4);\r\n\r\n    var x1Array = Object.keys(props.data[0]);\r\n    x1Array.shift();\r\n\r\n    const x1 = d3\r\n      .scaleBand()\r\n      .range([0, xScale.bandwidth()])\r\n      .domain(x1Array);\r\n\r\n    const yScale = d3\r\n      .scaleLinear()\r\n      .range([height, 0])\r\n      .domain([\r\n        0,\r\n        Math.max.apply(\r\n          Math,\r\n          props.data.map(function(o) {\r\n            return o.sum;\r\n          })\r\n        ) / 0.8,\r\n      ]);\r\n\r\n    var colors = d3.scaleOrdinal(['#d6e9c6', '#bce8f1', '#faebcc', '#ebccd1']);\r\n    const makeYLines = () => d3.axisLeft().scale(yScale);\r\n\r\n    //Chart\r\n    chart\r\n      .append('g')\r\n      .attr('transform', `translate(0, ${height})`)\r\n      .call(d3.axisBottom(xScale));\r\n\r\n    chart.append('g').call(d3.axisLeft(yScale));\r\n\r\n    chart\r\n      .append('g')\r\n      .attr('class', 'grid')\r\n      .call(\r\n        makeYLines()\r\n          .tickSize(-width, 0, 0)\r\n          .tickFormat('')\r\n      );\r\n    //https://zhuanlan.zhihu.com/p/38032622\r\n    //https://observablehq.com/@d3/grouped-bar-chart\r\n    //BAR\r\n    const groupKey = 'month';\r\n    const keys = ['sum'];\r\n    var dynamicColor;\r\n    var group = chart\r\n      .append('g')\r\n      .selectAll('g')\r\n      .data(props.data)\r\n      .join('g')\r\n      .attr('transform', d => {\r\n        return `translate(${xScale(moment(d[groupKey]).format('L'))},0)`;\r\n      })\r\n      .selectAll('rect')\r\n      .data(d => {\r\n        return keys.map(key => ({ key, value: d[key] }));\r\n      })\r\n      .enter();\r\n    group\r\n      .append('rect')\r\n      .attr('x', d => {\r\n        return x1(d.key) + x1.bandwidth() / 4;\r\n      })\r\n      .attr('y', d => yScale(d.value))\r\n      .attr('width', x1.bandwidth() / 2)\r\n      .attr('height', d => yScale(0) - yScale(d.value))\r\n      .attr('fill', d => colors(d.key))\r\n      .attr('stroke', '#31708f')\r\n      .attr('stroke-width', '1')\r\n      .on('mouseenter', function(actual, i) {\r\n        dynamicColor = this.style.fill;\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(300)\r\n          .style('fill', '#3c763d');\r\n      })\r\n      .on('mouseleave', function() {\r\n        d3.selectAll('.value').attr('opacity', 1);\r\n\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(300)\r\n          .attr('opacity', 1)\r\n          .style('fill', dynamicColor);\r\n      });\r\n\r\n    group\r\n      .append('text')\r\n      .attr('class', 'value')\r\n      .attr('x', d => {\r\n        return x1(d.key) + x1.bandwidth() / 2;\r\n      })\r\n      .attr('y', d => yScale(d.value))\r\n      .attr('height', 5)\r\n      .attr('text-anchor', 'middle')\r\n      .text(a => {\r\n        return a.value ? `${a.value.toFixed(2)}` : null;\r\n      });\r\n\r\n    // barGroups\r\n    // .append('text')\r\n    // .attr('class', 'value')\r\n    // .attr('x', (a) =>{\r\n    //     return (xScale(moment(a.month).format('L')) + xScale.bandwidth()/2)\r\n    // })\r\n    // .attr('y', (a) => yScale(a.ApprovedCount) )\r\n    // .attr('text-anchor', 'middle')\r\n    // .text((a) => `${a.ApprovedCount}`)\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', -(height / 2) - margin)\r\n      .attr('y', margin / 2.4)\r\n      .attr('transform', 'rotate(-90)')\r\n      .attr('text-anchor', 'middle')\r\n      .text(props.yScal);\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'label')\r\n      .attr('x', width / 2 + margin)\r\n      .attr('y', height + margin * 1.7)\r\n      .attr('text-anchor', 'middle')\r\n      .text('Month');\r\n\r\n    svg\r\n      .append('text')\r\n      .attr('class', 'title')\r\n      .attr('x', width / 2 + margin)\r\n      .attr('y', 40)\r\n      .attr('text-anchor', 'middle')\r\n      .text(props.title);\r\n\r\n    var legend = svg\r\n      .append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform', 'translate(' + width + ', 0)');\r\n    legend\r\n      .selectAll('rect')\r\n      .data(keys)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('x', 0)\r\n      .attr('y', function(d, i) {\r\n        return i * 18;\r\n      })\r\n      .attr('width', 12)\r\n      .attr('height', 12)\r\n      .attr('fill', function(d, i) {\r\n        return colors(d);\r\n      });\r\n\r\n    legend\r\n      .selectAll('text')\r\n      .data(keys)\r\n      .enter()\r\n      .append('text')\r\n      .text(function(d) {\r\n        return d;\r\n      })\r\n      .attr('x', 18)\r\n      .attr('y', function(d, i) {\r\n        return i * 18;\r\n      })\r\n      .attr('text-anchor', 'start')\r\n      .attr('alignment-baseline', 'hanging');\r\n\r\n    return () => {\r\n      svg.selectAll('*').remove();\r\n    };\r\n  }, [props.data, props.height, width]);\r\n\r\n  return (\r\n    <WidgetWrapper className=\"isoSaleWidget\">\r\n      <svg width={props.width} height={props.height} ref={ref}></svg>\r\n    </WidgetWrapper>\r\n  );\r\n};\r\n\r\nexport default D3;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Row, Col, Divider, Typography, DatePicker, Button } from 'antd';\r\nimport IsoWidgetsWrapper from './widgets-wrapper';\r\nimport ShortWidget from './shortWidget/sale-widget';\r\nimport LongWidget from './longWidget/sale-widget';\r\nimport D3Widget from './d3Widget/d3-widget';\r\nimport D3WidgetSingle from './d3Widget_single/d3-widget';\r\nimport basicStyle from '../../settings/basicStyle';\r\nimport IntlMessages from '@isomorphic/shared/isomorphic/components/utility/intlMessages';\r\nimport SuperFetch from '../../helpers/superFetch';\r\nimport notification from '@isomorphic/shared/isomorphic/components/Notification';\r\nimport LayoutContentWrapper from '@isomorphic/shared/isomorphic/components/utility/layoutWrapper';\r\nimport moment from 'moment';\r\nimport XLSX from 'xlsx';\r\n//import * as saveSvgAsPng from 'save-svg-as-png';\r\nimport html2canvas from 'html2canvas';\r\nimport { Spin } from 'antd';\r\nexport default function Report() {\r\n  //well, I tryed to put all loading in one variable. To save time, just do it seperately. If you can, please put them together\r\n  //const [loading, setLoading] = useState(Array(7).fill(true));\r\n  const [loading1, setLoading1] = useState(true);\r\n  const [loading2, setLoading2] = useState(true);\r\n  const [loading3, setLoading3] = useState(true);\r\n  const [loading4, setLoading4] = useState(true);\r\n  const [loading5, setLoading5] = useState(true);\r\n  const [loading6, setLoading6] = useState(true);\r\n\r\n  const [turnaround, setTurnaround] = useState([]);\r\n  const [perday, setPerday] = useState([]);\r\n  const [approvedByPolicy, setApprovedByPolicy] = useState([]);\r\n  const [approvedByValue, setApprovedByValue] = useState([]);\r\n  const [claimCount, setClaimCount] = useState([]);\r\n  const [usdApproved, setUsdApproved] = useState([]);\r\n  const [usdRejected, setUsdRejected] = useState([]);\r\n  const [chartDate, setChartDate] = useState([\r\n    moment()\r\n      .subtract(2, 'years')\r\n      .format(),\r\n    moment().format(),\r\n  ]);\r\n  const [dateGraph, setDateGraph] = useState([\r\n    moment().subtract(2, 'years'),\r\n    moment(),\r\n  ]);\r\n\r\n  //turnaround perday\r\n  useEffect(() => {\r\n    setLoading1(true);\r\n    SuperFetch.get('report/turnaroundTime', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          const average =\r\n            response.data.reduce(\r\n              (acc, curr) =>\r\n                (acc += moment(curr.updatedAt).diff(\r\n                  moment(curr.createdAt),\r\n                  'days'\r\n                )),\r\n              0\r\n            ) / response.data.length;\r\n          const perDay =\r\n            response.data.length /\r\n            moment(chartDate[1]).diff(moment(chartDate[0]), 'days');\r\n\r\n          setTurnaround([\r\n            ['Label', 'Value'],\r\n            ['Turnaround', average],\r\n          ]);\r\n          setPerday([\r\n            ['Label', 'Value'],\r\n            ['Per Day', perDay],\r\n          ]);\r\n          setLoading1(false);\r\n        } else {\r\n          notification('error', response.error.message);\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //approved by policy\r\n  useEffect(() => {\r\n    setLoading2(true);\r\n    SuperFetch.get('report/approvedClaimedCountByType', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          const data = response.data.map(item => [\r\n            item.policyType,\r\n            item.policyTypeCount,\r\n          ]);\r\n          data.unshift(['Type', 'Count']);\r\n          setApprovedByPolicy(data);\r\n          setLoading2(false);\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //approved by value\r\n  useEffect(() => {\r\n    setLoading3(false);\r\n    SuperFetch.get('report/approvedClaimedCountByValue', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          var data = [];\r\n          data.push(['Amount', 'Count']);\r\n          data.push(['greater then $250', response.data[0].gt]);\r\n          data.push(['less  or equal than $250', response.data[0].lte]);\r\n          setApprovedByValue(data);\r\n          setLoading3(false);\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //claim Count\r\n  useEffect(() => {\r\n    setLoading4(true);\r\n    SuperFetch.get('report/claimCount', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          // var table = response.data.map(item => [\r\n          //   moment(item.month).format('MM-YYYY'),\r\n          //   item.ApprovedCount,\r\n          //   item.DeclinedCount,\r\n          // ]);\r\n          // table.unshift(['Month', 'Approved Count', 'Declined Count']);\r\n\r\n          setClaimCount(response.data);\r\n          setLoading4(false);\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //USD Approved\r\n  useEffect(() => {\r\n    setLoading5(true);\r\n    SuperFetch.get('report/USDApproved', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          setUsdApproved(response.data);\r\n          setLoading5(false);\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //USD rejected\r\n  useEffect(() => {\r\n    setLoading6(true);\r\n    console.log(chartDate);\r\n    SuperFetch.get('report/USDRejected', chartDate)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          console.log(response.data);\r\n          var table = response.data.map(claim => {\r\n            return [moment(claim.month).format('MM-YYYY'), claim.sum];\r\n          });\r\n          table.unshift(['Month', 'USD total']);\r\n\r\n          setUsdRejected(table);\r\n          setLoading6(false);\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  }, [chartDate]);\r\n\r\n  //d3\r\n\r\n  const datePickerClaim = useRef(null);\r\n  const datePickerPending = useRef(null);\r\n  const onButtonClickChart = e => {\r\n    setChartDate(dateGraph.map(item => item.format()));\r\n  };\r\n  const onButtonClickClaim = () => {\r\n    //console.log(datePickerClaim.current.picker.state.value.map(item => item.format()));\r\n    let param = datePickerClaim.current.picker.state.value.map(item =>\r\n      item.format()\r\n    );\r\n    param.push('claims');\r\n    SuperFetch.get('report/csv', param)\r\n      .then(response => {\r\n        console.log('response', response);\r\n        if (response.status === 200) {\r\n          var ws = XLSX.utils.json_to_sheet(response.data);\r\n          var wb = XLSX.utils.book_new();\r\n          XLSX.utils.book_append_sheet(wb, ws, 'report');\r\n          XLSX.writeFile(wb, 'claims report.xlsb');\r\n          //console.log(response)\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  };\r\n  const onButtonClickPending = () => {\r\n    let param = datePickerPending.current.picker.state.value.map(item =>\r\n      item.format()\r\n    );\r\n    param.push('pendings');\r\n    SuperFetch.get('report/csv', param)\r\n      .then(response => {\r\n        console.log('response', response);\r\n        if (response.status === 200) {\r\n          var ws = XLSX.utils.json_to_sheet(response.data);\r\n          var wb = XLSX.utils.book_new();\r\n          XLSX.utils.book_append_sheet(wb, ws, 'report');\r\n          XLSX.writeFile(wb, 'pendings report.xlsb');\r\n          //console.log(response)\r\n        } else {\r\n          notification('error', 'Something wrong in retrieving CSV');\r\n        }\r\n      })\r\n      .catch(e => console.log(e));\r\n  };\r\n\r\n  const onButtonClickImages = () => {\r\n    //const svgs = document.querySelectorAll(\"div[aria-label='A chart.']\");\r\n    const svgs = document.getElementsByClassName('isoSaleWidget');\r\n    for (let index = 0; index < svgs.length; index++) {\r\n      html2canvas(svgs[index]).then(canvas => {\r\n        var link = document.createElement('a');\r\n        link.href = canvas.toDataURL();\r\n        link.download = 'chart.png';\r\n        link.click();\r\n      });\r\n    }\r\n  };\r\n  const onChangeHandlerGraph = e => {\r\n    setDateGraph(e);\r\n  };\r\n  const { rowStyle, colStyle } = basicStyle;\r\n\r\n  // console.log('usdApproved', usdApproved)\r\n  // console.log('usdRejected', usdRejected)\r\n\r\n  //console.log('heheheh',loading.some(e => e===true))\r\n  if (loading6 || loading5 || loading4 || loading3 || loading2 || loading1)\r\n    return (\r\n      <div\r\n        style={{\r\n          marginTop: '20%',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}\r\n      >\r\n        <Spin size=\"large\" />\r\n      </div>\r\n    );\r\n  return (\r\n    <LayoutContentWrapper>\r\n      <Row style={rowStyle}>\r\n        <Col>\r\n          <Typography.Title>Reporting</Typography.Title>\r\n        </Col>\r\n        <Divider />\r\n      </Row>\r\n      <Row style={rowStyle} type=\"flex\" justify=\"space-around\">\r\n        <Col>\r\n          <DatePicker.RangePicker\r\n            defaultValue={[moment().subtract(1, 'months'), moment()]}\r\n            format={'DD MMM YYYY'}\r\n            ref={datePickerClaim}\r\n          />\r\n\r\n          <Button type=\"primary\" onClick={onButtonClickClaim}>\r\n            EXPORT MONTHLY REPORT\r\n          </Button>\r\n        </Col>\r\n        <Col>\r\n          <DatePicker.RangePicker\r\n            defaultValue={[moment().subtract(1, 'months'), moment()]}\r\n            format={'DD MMM YYYY'}\r\n            ref={datePickerPending}\r\n          />\r\n\r\n          <Button type=\"primary\" onClick={onButtonClickPending}>\r\n            EXPORT CURRENT PENDING REPORT\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <div\r\n        style={{\r\n          border: '1px solid white',\r\n          padding: '35px',\r\n          borderRadius: '25px',\r\n        }}\r\n      >\r\n        <Row style={rowStyle} type=\"flex\" justify=\"space-around\">\r\n          <Col>\r\n            <DatePicker.RangePicker\r\n              format={'DD MMM YYYY'}\r\n              value={dateGraph}\r\n              onChange={onChangeHandlerGraph}\r\n            />\r\n\r\n            <Button type=\"primary\" onClick={onButtonClickChart}>\r\n              Submit\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button type=\"primary\" onClick={onButtonClickImages}>\r\n              DOWNLOAD IMAGES\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row style={rowStyle} gutter={0} justify=\"start\">\r\n          <Col lg={6} md={12} sm={12} xs={24} style={colStyle}>\r\n            <IsoWidgetsWrapper gutterLeft={0}>\r\n              {/* Sale Widget */}\r\n              <ShortWidget\r\n                data={turnaround}\r\n                chartType=\"Gauge\"\r\n                label={<IntlMessages id=\"widget.salewidget1.label\" />}\r\n                title={'TURNAROUND'}\r\n                options={{\r\n                  title: 'turnaround',\r\n                  redFrom: 90,\r\n                  redTo: 100,\r\n                  yellowFrom: 75,\r\n                  yellowTo: 90,\r\n                  minorTicks: 5,\r\n                  forceIFrame: true,\r\n                }}\r\n              />\r\n            </IsoWidgetsWrapper>\r\n          </Col>\r\n\r\n          <Col lg={6} md={12} sm={12} xs={24} style={colStyle}>\r\n            <IsoWidgetsWrapper>\r\n              {/* Sale Widget */}\r\n              <ShortWidget\r\n                title={'PROCESSED PER DAY'}\r\n                data={perday}\r\n                chartType=\"Gauge\"\r\n                label={<IntlMessages id=\"widget.salewidget1.label\" />}\r\n                options={{\r\n                  title: 'Per Day',\r\n                  redFrom: 90,\r\n                  redTo: 100,\r\n                  yellowFrom: 75,\r\n                  yellowTo: 90,\r\n                  minorTicks: 5,\r\n                }}\r\n              />\r\n            </IsoWidgetsWrapper>\r\n          </Col>\r\n\r\n          <Col lg={6} md={12} sm={12} xs={24} style={colStyle}>\r\n            <IsoWidgetsWrapper>\r\n              {/* Sale Widget */}\r\n              <ShortWidget\r\n                title={'APPROVED BY POLICY'}\r\n                data={approvedByPolicy}\r\n                chartType=\"PieChart\"\r\n                options={{\r\n                  title: 'Approved Claims Count: Split by Type',\r\n                  chartArea: { width: '80%' },\r\n                  // Just add this option\r\n                  is3D: false,\r\n                }}\r\n              />\r\n            </IsoWidgetsWrapper>\r\n          </Col>\r\n          <Col lg={6} md={12} sm={12} xs={24} style={colStyle}>\r\n            <IsoWidgetsWrapper>\r\n              {/* Sale Widget */}\r\n              <ShortWidget\r\n                title={'APPROVED BY VALUE'}\r\n                data={approvedByValue}\r\n                chartType=\"PieChart\"\r\n                options={{\r\n                  chartArea: { width: '80%' },\r\n                  title: 'Approved Claims Count: Split by Value',\r\n                  // Just add this option\r\n                  is3D: false,\r\n                }}\r\n              />\r\n            </IsoWidgetsWrapper>\r\n          </Col>\r\n        </Row>\r\n        <Row style={rowStyle}>\r\n          <D3Widget data={claimCount} width={'100%'} height={300} />\r\n        </Row>\r\n        <Row style={rowStyle}>\r\n          {/* Sale Widget */}\r\n          <D3WidgetSingle\r\n            data={usdApproved}\r\n            width={'100%'}\r\n            height={300}\r\n            title={'USD Approved'}\r\n            yScal={'Amount(USD)'}\r\n          />\r\n        </Row>\r\n        <Row style={rowStyle}>\r\n          {/* Sale Widget */}\r\n          <LongWidget\r\n            data={usdRejected}\r\n            chartType=\"ColumnChart\"\r\n            options={{\r\n              title: 'USD Reject',\r\n              chartArea: { width: '80%' },\r\n              hAxis: {\r\n                title: 'Month',\r\n                minValue: 0,\r\n              },\r\n              vAxis: {\r\n                title: 'Amount',\r\n                minValue: 0,\r\n              },\r\n            }}\r\n          />\r\n        </Row>\r\n      </div>\r\n    </LayoutContentWrapper>\r\n  );\r\n}\r\n"],"sourceRoot":""}