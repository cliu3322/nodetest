(this["webpackJsonpisomorphic-servers"]=this["webpackJsonpisomorphic-servers"]||[]).push([[18],{718:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(44);function i(){var e=Object(o.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: column;\n  overflow: hidden;\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return i=function(){return e},e}var c=n(31).b.div(i());t.a=function(e){return r.a.createElement(c,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},770:function(e,t){},822:function(e,t){},823:function(e,t){},928:function(e,t,n){"use strict";n.r(t);n(539);var a=n(537),r=(n(580),n(578)),o=(n(541),n(542)),i=(n(582),n(583)),c=(n(544),n(545)),l=(n(563),n(566)),u=(n(572),n(575)),s=n(717),d=n(0),p=n.n(d),m=n(29),f=n(30),h=n(37),g=n(36),b=n(38),O=n(44),y=n(31),j=n(5);function v(){var e=Object(O.a)(["\n  align-content: flex-start;\n"]);return v=function(){return e},e}function E(){var e=Object(O.a)(["\n  width: 100%;\n  height: ",";\n  padding: ",";\n  background-color: #ffffff;\n  border: 1px solid ",";\n\n  canvas {\n    width: 100% !important;\n    height: 100% !important;\n  }\n"]);return E=function(){return e},e}function x(){var e=Object(O.a)(["\n  margin: 0 10px;\n\n  @media only screen and (max-width: 767) {\n    margin-right: 0 !important;\n  }\n"]);return x=function(){return e},e}var C=y.b.div(x()),w=(y.b.div(E(),(function(e){return e.height?"".concat(e.height,"px"):"100%"}),(function(e){return e.padding?e.padding:"30px"}),Object(j.palette)("border",2)),y.b.div(v()),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.gutterTop,a=e.gutterRight,r=e.gutterBottom,o=e.gutterLeft,i=e.padding,c=e.bgColor,l=e.children,u={width:t,marginTop:n,marginRight:a,marginBottom:r,marginLeft:o,padding:i,backgroundColor:c,borderBottomLeftRadius:30};return p.a.createElement(C,{className:"isoWidgetsWrapper",style:u},l)}}]),t}(d.Component));function S(){var e=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 0px;\n  background-color: #ffffff;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  margin: auto;\n  text-align: center;\n\n  .footer {\n    padding: 0px;\n    height: 50px;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    background-image: url('/images/icons/footer.png');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    color: white;\n    text-align: center;\n    font-size: 150%;\n  }\n  .isoContent {\n  }\n"]);return S=function(){return e},e}var T=y.b.div(S(),Object(j.palette)("border",2)),k=n(768),A=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.data,a=e.chartType,r=e.title;return p.a.createElement(T,{className:"isoSaleWidget"},p.a.createElement(k.a,{className:"isoContent",height:300,width:"100%",chartType:a,loader:p.a.createElement("div",null,"Loading Chart"),data:n,options:t,legendToggle:!0}),p.a.createElement("div",{className:"footer"},p.a.createElement("span",{style:{fontWeight:"bold"}},r)))}}]),t}(d.Component);function Y(){var e=Object(O.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 30px;\n  background-color: #ffffff;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  .isoSaleLabel {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.2;\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 0 20px;\n  }\n\n  .isoSalePrice {\n    font-size: 28px;\n    font-weight: 300;\n    line-height: 1.2;\n    margin: 0 0 20px;\n  }\n\n  .isoSaleDetails {\n    font-size: 13px;\n    font-weight: 400;\n    line-height: 1.5;\n    color: ",";\n    margin: 0;\n  }\n"]);return Y=function(){return e},e}var D=y.b.div(Y(),Object(j.palette)("border",2),Object(j.palette)("text",0),Object(j.palette)("text",2)),R=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.data,a=e.chartType;return p.a.createElement(D,{className:"isoSaleWidget"},p.a.createElement(k.a,{height:300,chartType:a,loader:p.a.createElement("div",null,"Loading Chart"),data:n,options:t,legendToggle:!0}))}}]),t}(d.Component),M={rowStyle:{width:"100%",display:"flex",flexFlow:"row wrap",marginBottom:"16px"},colStyle:{marginBottom:"16px"},gutter:16},V=n(50),P=n(19),L=n(17),N=n(718),U=n(125),B=n.n(U),_=n(820),W=n.n(_),F=n(824),z=n.n(F);function I(){var e=Object(d.useState)(!0),t=Object(s.a)(e,2),n=t[0],m=t[1],f=Object(d.useState)(!0),h=Object(s.a)(f,2),g=h[0],b=h[1],O=Object(d.useState)(!0),y=Object(s.a)(O,2),j=y[0],v=y[1],E=Object(d.useState)(!0),x=Object(s.a)(E,2),C=x[0],S=x[1],T=Object(d.useState)(!0),k=Object(s.a)(T,2),Y=k[0],D=k[1],U=Object(d.useState)(!0),_=Object(s.a)(U,2),F=_[0],I=_[1],G=Object(d.useState)([]),J=Object(s.a)(G,2),X=J[0],$=J[1],q=Object(d.useState)([]),H=Object(s.a)(q,2),K=H[0],Q=H[1],Z=Object(d.useState)([]),ee=Object(s.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(d.useState)([]),re=Object(s.a)(ae,2),oe=re[0],ie=re[1],ce=Object(d.useState)([]),le=Object(s.a)(ce,2),ue=le[0],se=le[1],de=Object(d.useState)([]),pe=Object(s.a)(de,2),me=pe[0],fe=pe[1],he=Object(d.useState)([]),ge=Object(s.a)(he,2),be=ge[0],Oe=ge[1],ye=Object(d.useState)([B()().subtract(2,"years").format(),B()().format()]),je=Object(s.a)(ye,2),ve=je[0],Ee=je[1],xe=Object(d.useState)([B()().subtract(2,"years"),B()()]),Ce=Object(s.a)(xe,2),we=Ce[0],Se=Ce[1];Object(d.useEffect)((function(){m(!0),P.a.get("report/turnaroundTime",ve).then((function(e){if(console.log(B()(ve[1]).diff(B()(ve[0]),"days")),200===e.status){var t=e.data.reduce((function(e,t){return e+B()(t.updatedAt).diff(B()(t.createdAt),"days")}),0)/e.data.length;console.log(e.data.length);var n=e.data.length/B()(ve[1]).diff(B()(ve[0]),"days");$([["Label","Value"],["Turnaround",t]]),Q([["Label","Value"],["Per Day",n]]),m(!1)}else Object(L.a)("error",e.error.message)})).catch((function(e){return console.log(e)}))}),[ve]),Object(d.useEffect)((function(){b(!0),P.a.get("report/approvedClaimedCountByType",ve).then((function(e){if(200===e.status){var t=e.data.map((function(e){return[e.policyType,e.policyTypeCount]}));t.unshift(["Type","Count"]),ne(t),b(!1)}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}),[ve]),Object(d.useEffect)((function(){v(!1),P.a.get("report/approvedClaimedCountByValue",ve).then((function(e){if(200===e.status){console.log(e.data);var t=[];t.push(["Amount","Count"]),t.push(["greater then $250",e.data[0].gt]),t.push(["less  or equal than $250",e.data[0].lte]),ie(t),v(!1)}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}),[ve]),Object(d.useEffect)((function(){S(!0),P.a.get("report/claimCount",ve).then((function(e){if(200===e.status){var t=e.data.map((function(e){return[B()(e.month).format("MM-YYYY"),e.ApprovedCount,e.DeclinedCount]}));t.unshift(["Month","Approved Count","Declined Count"]),se(t),S(!1)}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}),[ve]),Object(d.useEffect)((function(){D(!0),P.a.get("report/USDApproved",ve).then((function(e){if(200===e.status){var t=e.data.map((function(e){return[B()(e.month).format("MM-YYYY"),e.sum]}));t.unshift(["Month","USD total"]),fe(t),D(!1)}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}),[ve]),Object(d.useEffect)((function(){I(!0),P.a.get("report/USDRejected",ve).then((function(e){if(200===e.status){var t=e.data.map((function(e){return[B()(e.month).format("MM-YYYY"),e.sum]}));t.unshift(["Month","USD total"]),Oe(t),I(!1)}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}),[ve]);var Te=Object(d.useRef)(null),ke=Object(d.useRef)(null),Ae=M.rowStyle,Ye=M.colStyle;return F||Y||C||j||g||n?p.a.createElement("div",{style:{marginTop:"20%",display:"flex",alignItems:"center",justifyContent:"center"}},p.a.createElement(u.a,{size:"large"})):p.a.createElement(N.a,null,p.a.createElement(o.a,{style:Ae},p.a.createElement(c.a,null,p.a.createElement(l.a.Title,null,"Reporting")),p.a.createElement(i.a,null)),p.a.createElement(o.a,{style:Ae,type:"flex",justify:"space-around"},p.a.createElement(c.a,null,p.a.createElement(r.a.RangePicker,{defaultValue:[B()().subtract(1,"months"),B()()],format:"DD MMM YYYY",ref:Te}),p.a.createElement(a.a,{type:"primary",onClick:function(){var e=Te.current.picker.state.value.map((function(e){return e.format()}));e.push("claims"),P.a.get("report/csv",e).then((function(e){if(console.log("response",e),200===e.status){var t=W.a.utils.json_to_sheet(e.data),n=W.a.utils.book_new();W.a.utils.book_append_sheet(n,t,"report"),W.a.writeFile(n,"claims report.xlsb")}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}},"EXPORT MONTHLY REPORT")),p.a.createElement(c.a,null,p.a.createElement(r.a.RangePicker,{defaultValue:[B()().subtract(1,"months"),B()()],format:"DD MMM YYYY",ref:ke}),p.a.createElement(a.a,{type:"primary",onClick:function(){var e=ke.current.picker.state.value.map((function(e){return e.format()}));e.push("pendings"),P.a.get("report/csv",e).then((function(e){if(console.log("response",e),200===e.status){var t=W.a.utils.json_to_sheet(e.data),n=W.a.utils.book_new();W.a.utils.book_append_sheet(n,t,"report"),W.a.writeFile(n,"pendings report.xlsb")}else Object(L.a)("error","Something wrong in retrieving CSV")})).catch((function(e){return console.log(e)}))}},"EXPORT CURRENT PENDING REPORT"))),p.a.createElement("div",{style:{border:"1px solid white",padding:"35px",borderRadius:"25px"}},p.a.createElement(o.a,{style:Ae,type:"flex",justify:"space-around"},p.a.createElement(c.a,null,p.a.createElement(r.a.RangePicker,{format:"DD MMM YYYY",value:we,onChange:function(e){Se(e)}}),p.a.createElement(a.a,{type:"primary",onClick:function(e){Ee(we.map((function(e){return e.format()})))}},"Submit")),p.a.createElement(c.a,null,p.a.createElement(a.a,{type:"primary",onClick:function(){for(var e=document.getElementsByClassName("isoSaleWidget"),t=0;t<e.length;t++)z()(e[t]).then((function(e){var t=document.createElement("a");t.href=e.toDataURL(),t.download="chart.png",t.click()}))}},"DOWNLOAD IMAGES"))),p.a.createElement(o.a,{style:Ae,gutter:0,justify:"start"},p.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Ye},p.a.createElement(w,{gutterLeft:0},p.a.createElement(A,{data:X,chartType:"Gauge",label:p.a.createElement(V.a,{id:"widget.salewidget1.label"}),title:"TURNAROUND",options:{title:"turnaround",redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5,forceIFrame:!0}}))),p.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Ye},p.a.createElement(w,null,p.a.createElement(A,{title:"PROCESSED PER DAY",data:K,chartType:"Gauge",label:p.a.createElement(V.a,{id:"widget.salewidget1.label"}),options:{title:"Per Day",redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5}}))),p.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Ye},p.a.createElement(w,null,p.a.createElement(A,{title:"APPROVED BY POLICY",data:te,chartType:"PieChart",options:{title:"Approved Claims Count: Split by Type",chartArea:{width:"80%"},is3D:!1}}))),p.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Ye},p.a.createElement(w,null,p.a.createElement(A,{title:"APPROVED BY VALUE",data:oe,chartType:"PieChart",options:{chartArea:{width:"80%"},title:"Approved Claims Count: Split by Value",is3D:!1}})))),p.a.createElement(o.a,{style:Ae},p.a.createElement(R,{data:ue,chartType:"ColumnChart",options:{title:"Claims Count",chartArea:{width:"80%"},hAxis:{title:"Month",minValue:0},vAxis:{title:"Count"}}})),p.a.createElement(o.a,{style:Ae},p.a.createElement(R,{data:me,chartType:"ColumnChart",options:{isStacked:!0,title:"USD Approved",chartArea:{width:"80%"},hAxis:{title:"Month",minValue:0},vAxis:{title:"Amount",minValue:0}}})),p.a.createElement(o.a,{style:Ae},p.a.createElement(R,{data:be,chartType:"ColumnChart",options:{title:"USD Reject",chartArea:{width:"80%"},hAxis:{title:"Month",minValue:0},vAxis:{title:"Amount",minValue:0}}}))))}n.d(t,"default",(function(){return I}))}}]);
//# sourceMappingURL=18.8fe8e84a.chunk.js.map