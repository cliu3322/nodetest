(this["webpackJsonpisomorphic-servers"]=this["webpackJsonpisomorphic-servers"]||[]).push([[22],{557:function(t,e,n){"use strict";var a={rowStyle:{width:"100%",marginBottom:"16px"},colStyle:{marginBottom:"16px"},gutter:16};e.a=a},725:function(t,e,n){"use strict";var a=n(0),r=n.n(a),i=n(44);function o(){var t=Object(i.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: column;\n  overflow: hidden;\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return o=function(){return t},t}var c=n(31).b.div(o());e.a=function(t){return r.a.createElement(c,Object.assign({className:null!=t.className?"".concat(t.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},t),t.children)}},794:function(t,e){},852:function(t,e){},853:function(t,e){},959:function(t,e,n){"use strict";n.r(e);n(540);var a=n(537),r=(n(609),n(607)),i=(n(538),n(539)),o=(n(585),n(586)),c=(n(542),n(543)),l=(n(561),n(562)),u=(n(578),n(579)),s=n(552),d=n(0),f=n.n(d),p=n(29),h=n(30),m=n(38),g=n(37),b=n(39),x=n(44),y=n(31),v=n(5);function O(){var t=Object(x.a)(["\n  align-content: flex-start;\n"]);return O=function(){return t},t}function j(){var t=Object(x.a)(["\n  width: 100%;\n  height: ",";\n  padding: ",";\n  background-color: #ffffff;\n  border: 1px solid ",";\n\n  canvas {\n    width: 100% !important;\n    height: 100% !important;\n  }\n"]);return j=function(){return t},t}function w(){var t=Object(x.a)(["\n  margin: 0 10px;\n\n  @media only screen and (max-width: 767) {\n    margin-right: 0 !important;\n  }\n"]);return w=function(){return t},t}var E=y.b.div(w()),S=(y.b.div(j(),(function(t){return t.height?"".concat(t.height,"px"):"100%"}),(function(t){return t.padding?t.padding:"30px"}),Object(v.palette)("border",2)),y.b.div(O()),function(t){function e(){return Object(p.a)(this,e),Object(m.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.gutterTop,a=t.gutterRight,r=t.gutterBottom,i=t.gutterLeft,o=t.padding,c=t.bgColor,l=t.children,u={width:e,marginTop:n,marginRight:a,marginBottom:r,marginLeft:i,padding:o,backgroundColor:c,borderBottomLeftRadius:30};return f.a.createElement(E,{className:"isoWidgetsWrapper",style:u},l)}}]),e}(d.Component));function k(){var t=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 0px;\n  background-color: #ffffff;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  margin: auto;\n  text-align: center;\n\n  .footer {\n    padding: 0px;\n    height: 50px;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    background-image: url('/images/icons/footer.png');\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    color: white;\n    text-align: center;\n    font-size: 150%;\n  }\n  .isoContent {\n  }\n"]);return k=function(){return t},t}var C=y.b.div(k(),Object(v.palette)("border",2)),T=n(792),A=function(t){function e(){return Object(p.a)(this,e),Object(m.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this.props,e=t.options,n=t.data,a=t.chartType,r=t.title;return f.a.createElement(C,{className:"isoSaleWidget"},f.a.createElement(T.a,{className:"isoContent",height:300,width:"100%",chartType:a,loader:f.a.createElement("div",null,"Loading Chart"),data:n,options:e,legendToggle:!0}),f.a.createElement("div",{className:"footer"},f.a.createElement("span",{style:{fontWeight:"bold"}},r)))}}]),e}(d.Component);function D(){var t=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 30px;\n  background-color: #ffffff;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  .isoSaleLabel {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.2;\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 0 20px;\n  }\n\n  .isoSalePrice {\n    font-size: 28px;\n    font-weight: 300;\n    line-height: 1.2;\n    margin: 0 0 20px;\n  }\n\n  .isoSaleDetails {\n    font-size: 13px;\n    font-weight: 400;\n    line-height: 1.5;\n    color: ",";\n    margin: 0;\n  }\n"]);return D=function(){return t},t}var R=y.b.div(D(),Object(v.palette)("border",2),Object(v.palette)("text",0),Object(v.palette)("text",2)),L=function(t){function e(){return Object(p.a)(this,e),Object(m.a)(this,Object(g.a)(e).apply(this,arguments))}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this.props,e=t.options,n=t.data,a=t.chartType;return f.a.createElement(R,{className:"isoSaleWidget"},f.a.createElement(T.a,{height:300,chartType:a,loader:f.a.createElement("div",null,"Loading Chart"),data:n,options:e,legendToggle:!0}))}}]),e}(d.Component);function P(){var t=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  padding: 30px;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  .isoSaleLabel {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.2;\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 0 20px;\n  }\n\n  .isoSalePrice {\n    font-size: 28px;\n    font-weight: 300;\n    line-height: 1.2;\n    margin: 0 0 20px;\n  }\n\n  .isoSaleDetails {\n    font-size: 13px;\n    font-weight: 400;\n    line-height: 1.5;\n    color: ",";\n    margin: 0;\n  }\n"]);return P=function(){return t},t}var Y=y.b.div(P(),Object(v.palette)("border",2),Object(v.palette)("text",0),Object(v.palette)("text",2)),N=n(125),M=n.n(N),z=n(823),V=function(t){var e=Object(d.useRef)(null),n=Object(d.useState)(window.innerWidth),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(d.useEffect)((function(){function t(){i(window.innerWidth)}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[r]),Object(d.useEffect)((function(){var n=z.f(e.current),a=e.current.parentNode.clientWidth-80-80,r=t.height-160,i=n.append("g").attr("transform","translate(".concat(80,", ").concat(80,")")),o=z.c().range([0,a]).domain(t.data.map((function(t){return M()(t.month).format("L")}))).padding(.4),c=Object.keys(t.data[0]);c.shift();var l=z.c().range([0,o.bandwidth()]).domain(c),u=z.d().range([r,0]).domain([0,500]),s=z.e(["#d6e9c6","#bce8f1","#faebcc","#ebccd1"]);i.append("g").attr("transform","translate(0, ".concat(r,")")).call(z.a(o)),i.append("g").call(z.b(u)),i.append("g").attr("class","grid").call(z.b().scale(u).tickSize(-a,0,0).tickFormat(""));var d,f=["ApprovedCount","DeclinedCount"],p=i.append("g").selectAll("g").data(t.data).join("g").attr("transform",(function(t){return"translate(".concat(o(M()(t.month).format("L")),",0)")})).selectAll("rect").data((function(t){return f.map((function(e){return{key:e,value:t[e]}}))})).enter();p.append("rect").attr("x",(function(t){return l(t.key)})).attr("y",(function(t){return u(t.value)})).attr("width",l.bandwidth()).attr("height",(function(t){return u(0)-u(t.value)})).attr("fill",(function(t){return s(t.key)})).attr("stroke","#31708f").attr("stroke-width","1").on("mouseenter",(function(t,e){d=this.style.fill,z.f(this).transition().duration(300).style("fill","#3c763d")})).on("mouseleave",(function(){z.g(".value").attr("opacity",1),z.f(this).transition().duration(300).attr("opacity",1).style("fill",d)})),p.append("text").attr("class","value").attr("x",(function(t){return l(t.key)+l.bandwidth()/2})).attr("y",(function(t){return u(t.value)})).attr("height",5).attr("text-anchor","middle").text((function(t){return"".concat(t.value)})),n.append("text").attr("class","label").attr("x",-r/2-80).attr("y",80/2.4).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Count"),n.append("text").attr("class","label").attr("x",a/2+80).attr("y",r+136).attr("text-anchor","middle").text("Month"),n.append("text").attr("class","title").attr("x",a/2+80).attr("y",40).attr("text-anchor","middle").text("Claim Count");var h=n.append("g").attr("class","legend").attr("transform","translate("+a+", 0)");return h.selectAll("rect").data(f).enter().append("rect").attr("x",0).attr("y",(function(t,e){return 18*e})).attr("width",12).attr("height",12).attr("fill",(function(t,e){return s(t)})),h.selectAll("text").data(f).enter().append("text").text((function(t){return t})).attr("x",18).attr("y",(function(t,e){return 18*e})).attr("text-anchor","start").attr("alignment-baseline","hanging"),function(){n.selectAll("*").remove()}}),[t.data,t.height,r]),f.a.createElement(Y,{className:"isoSaleWidget"},f.a.createElement("svg",{width:t.width,height:t.height,ref:e}))};function W(){var t=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  padding: 30px;\n  overflow: hidden;\n  border: 1px solid ",";\n  border-radius: 25px;\n  .isoSaleLabel {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.2;\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 0 20px;\n  }\n\n  .isoSalePrice {\n    font-size: 28px;\n    font-weight: 300;\n    line-height: 1.2;\n    margin: 0 0 20px;\n  }\n\n  .isoSaleDetails {\n    font-size: 13px;\n    font-weight: 400;\n    line-height: 1.5;\n    color: ",";\n    margin: 0;\n  }\n"]);return W=function(){return t},t}var U=y.b.div(W(),Object(v.palette)("border",2),Object(v.palette)("text",0),Object(v.palette)("text",2)),B=function(t){var e=Object(d.useRef)(null),n=Object(d.useState)(window.innerWidth),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(d.useEffect)((function(){function t(){i(window.innerWidth)}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[r]),Object(d.useEffect)((function(){var n=z.f(e.current),a=e.current.parentNode.clientWidth-80-80,r=t.height-160,i=n.append("g").attr("transform","translate(".concat(80,", ").concat(80,")")),o=z.c().range([0,a]).domain(t.data.map((function(t){return M()(t.month).format("L")}))).padding(.4),c=Object.keys(t.data[0]);c.shift();var l=z.c().range([0,o.bandwidth()]).domain(c),u=z.d().range([r,0]).domain([0,Math.max.apply(Math,t.data.map((function(t){return t.sum})))/.8]),s=z.e(["#d6e9c6","#bce8f1","#faebcc","#ebccd1"]);i.append("g").attr("transform","translate(0, ".concat(r,")")).call(z.a(o)),i.append("g").call(z.b(u)),i.append("g").attr("class","grid").call(z.b().scale(u).tickSize(-a,0,0).tickFormat(""));var d,f=["sum"],p=i.append("g").selectAll("g").data(t.data).join("g").attr("transform",(function(t){return"translate(".concat(o(M()(t.month).format("L")),",0)")})).selectAll("rect").data((function(t){return f.map((function(e){return{key:e,value:t[e]}}))})).enter();p.append("rect").attr("x",(function(t){return l(t.key)+l.bandwidth()/4})).attr("y",(function(t){return u(t.value)})).attr("width",l.bandwidth()/2).attr("height",(function(t){return u(0)-u(t.value)})).attr("fill",(function(t){return s(t.key)})).attr("stroke","#31708f").attr("stroke-width","1").on("mouseenter",(function(t,e){d=this.style.fill,z.f(this).transition().duration(300).style("fill","#3c763d")})).on("mouseleave",(function(){z.g(".value").attr("opacity",1),z.f(this).transition().duration(300).attr("opacity",1).style("fill",d)})),p.append("text").attr("class","value").attr("x",(function(t){return l(t.key)+l.bandwidth()/2})).attr("y",(function(t){return u(t.value)})).attr("height",5).attr("text-anchor","middle").text((function(t){return t.value?"".concat(t.value.toFixed(2)):null})),n.append("text").attr("class","label").attr("x",-r/2-80).attr("y",80/2.4).attr("transform","rotate(-90)").attr("text-anchor","middle").text(t.yScal),n.append("text").attr("class","label").attr("x",a/2+80).attr("y",r+136).attr("text-anchor","middle").text("Month"),n.append("text").attr("class","title").attr("x",a/2+80).attr("y",40).attr("text-anchor","middle").text(t.title);var h=n.append("g").attr("class","legend").attr("transform","translate("+a+", 0)");return h.selectAll("rect").data(f).enter().append("rect").attr("x",0).attr("y",(function(t,e){return 18*e})).attr("width",12).attr("height",12).attr("fill",(function(t,e){return s(t)})),h.selectAll("text").data(f).enter().append("text").text((function(t){return t})).attr("x",18).attr("y",(function(t,e){return 18*e})).attr("text-anchor","start").attr("alignment-baseline","hanging"),function(){n.selectAll("*").remove()}}),[t.data,t.height,r]),f.a.createElement(U,{className:"isoSaleWidget"},f.a.createElement("svg",{width:t.width,height:t.height,ref:e}))},F=n(557),_=n(51),I=n(19),G=n(16),J=n(725),X=n(850),$=n.n(X),q=n(854),H=n.n(q);function K(){var t=Object(d.useState)(!0),e=Object(s.a)(t,2),n=e[0],p=e[1],h=Object(d.useState)(!0),m=Object(s.a)(h,2),g=m[0],b=m[1],x=Object(d.useState)(!0),y=Object(s.a)(x,2),v=y[0],O=y[1],j=Object(d.useState)(!0),w=Object(s.a)(j,2),E=w[0],k=w[1],C=Object(d.useState)(!0),T=Object(s.a)(C,2),D=T[0],R=T[1],P=Object(d.useState)(!0),Y=Object(s.a)(P,2),N=Y[0],z=Y[1],W=Object(d.useState)([]),U=Object(s.a)(W,2),X=U[0],q=U[1],K=Object(d.useState)([]),Q=Object(s.a)(K,2),Z=Q[0],tt=Q[1],et=Object(d.useState)([]),nt=Object(s.a)(et,2),at=nt[0],rt=nt[1],it=Object(d.useState)([]),ot=Object(s.a)(it,2),ct=ot[0],lt=ot[1],ut=Object(d.useState)([]),st=Object(s.a)(ut,2),dt=st[0],ft=st[1],pt=Object(d.useState)([]),ht=Object(s.a)(pt,2),mt=ht[0],gt=ht[1],bt=Object(d.useState)([]),xt=Object(s.a)(bt,2),yt=xt[0],vt=xt[1],Ot=Object(d.useState)([M()().subtract(2,"years").format(),M()().format()]),jt=Object(s.a)(Ot,2),wt=jt[0],Et=jt[1],St=Object(d.useState)([M()().subtract(2,"years"),M()()]),kt=Object(s.a)(St,2),Ct=kt[0],Tt=kt[1];Object(d.useEffect)((function(){p(!0),I.a.get("report/turnaroundTime",wt).then((function(t){if(200===t.status){var e=t.data.reduce((function(t,e){return t+M()(e.updatedAt).diff(M()(e.createdAt),"days")}),0)/t.data.length,n=t.data.length/M()(wt[1]).diff(M()(wt[0]),"days");q([["Label","Value"],["Turnaround",e]]),tt([["Label","Value"],["Per Day",n]]),p(!1)}else Object(G.a)("error",t.error.message)})).catch((function(t){return console.log(t)}))}),[wt]),Object(d.useEffect)((function(){b(!0),I.a.get("report/approvedClaimedCountByType",wt).then((function(t){if(200===t.status){var e=t.data.map((function(t){return[t.policyType,t.policyTypeCount]}));e.unshift(["Type","Count"]),rt(e),b(!1)}else Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}),[wt]),Object(d.useEffect)((function(){O(!1),I.a.get("report/approvedClaimedCountByValue",wt).then((function(t){if(200===t.status){var e=[];e.push(["Amount","Count"]),e.push(["greater then $250",t.data[0].gt]),e.push(["less  or equal than $250",t.data[0].lte]),lt(e),O(!1)}else Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}),[wt]),Object(d.useEffect)((function(){k(!0),I.a.get("report/claimCount",wt).then((function(t){200===t.status?(ft(t.data),k(!1)):Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}),[wt]),Object(d.useEffect)((function(){R(!0),I.a.get("report/USDApproved",wt).then((function(t){200===t.status?(gt(t.data),R(!1)):Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}),[wt]),Object(d.useEffect)((function(){z(!0),console.log(wt),I.a.get("report/USDRejected",wt).then((function(t){if(200===t.status){console.log(t.data);var e=t.data.map((function(t){return[M()(t.month).format("MM-YYYY"),t.sum]}));e.unshift(["Month","USD total"]),vt(e),z(!1)}else Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}),[wt]);var At=Object(d.useRef)(null),Dt=Object(d.useRef)(null),Rt=F.a.rowStyle,Lt=F.a.colStyle;return N||D||E||v||g||n?f.a.createElement("div",{style:{marginTop:"20%",display:"flex",alignItems:"center",justifyContent:"center"}},f.a.createElement(u.a,{size:"large"})):f.a.createElement(J.a,null,f.a.createElement(i.a,{style:Rt},f.a.createElement(c.a,null,f.a.createElement(l.a.Title,null,"Reporting")),f.a.createElement(o.a,null)),f.a.createElement(i.a,{style:Rt,type:"flex",justify:"space-around"},f.a.createElement(c.a,null,f.a.createElement(r.a.RangePicker,{defaultValue:[M()().subtract(1,"months"),M()()],format:"DD MMM YYYY",ref:At}),f.a.createElement(a.a,{type:"primary",onClick:function(){var t=At.current.picker.state.value.map((function(t){return t.format()}));t.push("claims"),I.a.get("report/csv",t).then((function(t){if(console.log("response",t),200===t.status){var e=$.a.utils.json_to_sheet(t.data),n=$.a.utils.book_new();$.a.utils.book_append_sheet(n,e,"report"),$.a.writeFile(n,"claims report.xlsb")}else Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}},"EXPORT MONTHLY REPORT")),f.a.createElement(c.a,null,f.a.createElement(r.a.RangePicker,{defaultValue:[M()().subtract(1,"months"),M()()],format:"DD MMM YYYY",ref:Dt}),f.a.createElement(a.a,{type:"primary",onClick:function(){var t=Dt.current.picker.state.value.map((function(t){return t.format()}));t.push("pendings"),I.a.get("report/csv",t).then((function(t){if(console.log("response",t),200===t.status){var e=$.a.utils.json_to_sheet(t.data),n=$.a.utils.book_new();$.a.utils.book_append_sheet(n,e,"report"),$.a.writeFile(n,"pendings report.xlsb")}else Object(G.a)("error","Something wrong in retrieving CSV")})).catch((function(t){return console.log(t)}))}},"EXPORT CURRENT PENDING REPORT"))),f.a.createElement("div",{style:{border:"1px solid white",padding:"35px",borderRadius:"25px"}},f.a.createElement(i.a,{style:Rt,type:"flex",justify:"space-around"},f.a.createElement(c.a,null,f.a.createElement(r.a.RangePicker,{format:"DD MMM YYYY",value:Ct,onChange:function(t){Tt(t)}}),f.a.createElement(a.a,{type:"primary",onClick:function(t){Et(Ct.map((function(t){return t.format()})))}},"Submit")),f.a.createElement(c.a,null,f.a.createElement(a.a,{type:"primary",onClick:function(){for(var t=document.getElementsByClassName("isoSaleWidget"),e=0;e<t.length;e++)H()(t[e]).then((function(t){var e=document.createElement("a");e.href=t.toDataURL(),e.download="chart.png",e.click()}))}},"DOWNLOAD IMAGES"))),f.a.createElement(i.a,{style:Rt,gutter:0,justify:"start"},f.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Lt},f.a.createElement(S,{gutterLeft:0},f.a.createElement(A,{data:X,chartType:"Gauge",label:f.a.createElement(_.a,{id:"widget.salewidget1.label"}),title:"TURNAROUND",options:{title:"turnaround",redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5,forceIFrame:!0}}))),f.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Lt},f.a.createElement(S,null,f.a.createElement(A,{title:"PROCESSED PER DAY",data:Z,chartType:"Gauge",label:f.a.createElement(_.a,{id:"widget.salewidget1.label"}),options:{title:"Per Day",redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5}}))),f.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Lt},f.a.createElement(S,null,f.a.createElement(A,{title:"APPROVED BY POLICY",data:at,chartType:"PieChart",options:{title:"Approved Claims Count: Split by Type",chartArea:{width:"80%"},is3D:!1}}))),f.a.createElement(c.a,{lg:6,md:12,sm:12,xs:24,style:Lt},f.a.createElement(S,null,f.a.createElement(A,{title:"APPROVED BY VALUE",data:ct,chartType:"PieChart",options:{chartArea:{width:"80%"},title:"Approved Claims Count: Split by Value",is3D:!1}})))),f.a.createElement(i.a,{style:Rt},f.a.createElement(V,{data:dt,width:"100%",height:300})),f.a.createElement(i.a,{style:Rt},f.a.createElement(B,{data:mt,width:"100%",height:300,title:"USD Approved",yScal:"Amount(USD)"})),f.a.createElement(i.a,{style:Rt},f.a.createElement(L,{data:yt,chartType:"ColumnChart",options:{title:"USD Reject",chartArea:{width:"80%"},hAxis:{title:"Month",minValue:0},vAxis:{title:"Amount",minValue:0}}}))))}n.d(e,"default",(function(){return K}))}}]);
//# sourceMappingURL=22.be80444a.chunk.js.map