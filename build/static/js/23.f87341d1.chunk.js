(this["webpackJsonpisomorphic-servers"]=this["webpackJsonpisomorphic-servers"]||[]).push([[23],{574:function(e,n,t){"use strict";(function(e){t.d(n,"b",(function(){return o}));var r=t(0),a=t.n(r),o=e.browser&&document.getElementsByTagName("html")[0].getAttribute("dir");n.a=function(e){return function(n){return a.a.createElement(e,Object.assign({},n,{"data-rtl":o}))}}}).call(this,t(103))},576:function(e,n,t){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.3;return"\n      -webkit-transition: all ".concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -moz-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -ms-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      -o-transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n      transition: all ").concat(e,"s cubic-bezier(0.215, 0.61, 0.355, 1);\n  ")}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"\n      -webkit-border-radius: ".concat(e,";\n      -moz-border-radius: ").concat(e,";\n      -ms-transition: ").concat(e,";\n      -o-border-radius: ").concat(e,";\n      border-radius: ").concat(e,";\n  ")}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";return"\n      -webkit-box-shadow: ".concat(e,";\n      -moz-box-shadow: ").concat(e,";\n      box-shadow: ").concat(e,";\n  ")}t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}))},711:function(e,n,t){"use strict";t(537);var r=t(536),a=t(43),o=t(30),i=t(5),c=t(576);function l(){var e=Object(a.a)(["\n  &.ant-btn-group {\n    .ant-btn {\n      margin: 0;\n      margin-right: 0;\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 1px solid transparent;\n      border-color: ",";\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 8px;\n      font-size: 14px;\n      border-radius: 0;\n      height: 36px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      ",";\n\n      &:hover {\n        border-color: ",";\n      }\n\n      &.ant-btn-dashed {\n        border-style: dashed;\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n\n      &.ant-btn-primary {\n        border-color: ",";\n\n        &:hover {\n          border-color: ",";\n        }\n      }\n    }\n\n    > .ant-btn:first-child:not(:last-child) {\n      border-radius: ",";\n    }\n\n    > .ant-btn:last-child:not(:first-child) {\n      border-radius: ",";\n    }\n\n    .ant-btn-primary:last-child:not(:first-child),\n    .ant-btn-primary + .ant-btn-primary {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn-primary:first-child:not(:last-child) {\n      border-left-color: ",";\n      border-right-color: ",";\n    }\n\n    .ant-btn + .ant-btn,\n    + .ant-btn {\n      margin-left: "," !important;\n      margin-right: "," !important;\n    }\n\n    &.ant-btn-group-lg {\n      > .ant-btn {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n\n    &.ant-btn-group-sm {\n      > .ant-btn {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n    }\n  }\n\n  &.ant-btn-group + &.ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"]);return l=function(){return e},e}function s(){var e=Object(a.a)(["\n  &.ant-btn {\n    display: inline-block;\n    margin-bottom: 0;\n    font-weight: 500;\n    text-align: center;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n    cursor: pointer;\n    background-image: none;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    line-height: 1.5;\n    padding: 0 25px;\n    font-size: 14px;\n    border-radius: 4px;\n    height: 36px;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    position: relative;\n    color: ",";\n    border-color: ",";\n    ",";\n\n    &:hover {\n      border-color: ",";\n      color: ",";\n    }\n\n    > .anticon + span,\n    > span + .anticon {\n      margin: ",";\n    }\n\n    .anticon-right {\n      transform: ",";\n    }\n\n    .anticon-left {\n      transform: ",";\n    }\n\n    &.ant-btn-primary {\n      background-color: ",";\n      border-color: ",";\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n        color: #fff;\n      }\n    }\n\n    &.ant-btn-sm {\n      padding: 0 15px;\n      height: 28px;\n      font-size: 12px;\n\n      &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline) {\n        padding: ",";\n        .anticon {\n          margin: ",";\n        }\n      }\n    }\n\n    &.ant-btn-lg {\n      padding: 0 35px;\n      font-size: 14px;\n      height: 42px;\n    }\n\n    &.ant-btn-primary {\n      color: #ffffff;\n    }\n\n    &.ant-btn-dashed {\n      border-style: dashed;\n      border-color: ",";\n\n      &:hover {\n        color: ",";\n        border-color: ",";\n      }\n    }\n\n    &.ant-btn-danger {\n      background-color: ",";\n      border-color: ",";\n      color: #ffffff;\n\n      &:hover {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.ant-btn-background-ghost {\n        color: ",";\n        background-color: transparent;\n        border-color: ",";\n\n        &:hover {\n          color: ",";\n          border-color: ",";\n        }\n      }\n    }\n\n    &.ant-btn-circle,\n    &.ant-btn-circle-outline {\n      width: 35px;\n      padding: 0;\n      font-size: 14px;\n      border-radius: 50%;\n      height: 35px;\n\n      &.ant-btn-sm {\n        padding: 0;\n        height: 28px;\n        width: 28px;\n        font-size: 12px;\n      }\n\n      &.ant-btn-lg {\n        padding: 0;\n        font-size: 14px;\n        height: 42px;\n        width: 42px;\n      }\n    }\n\n    &.ant-btn.disabled,\n    &.ant-btn[disabled],\n    &.ant-btn.disabled:hover,\n    &.ant-btn[disabled]:hover,\n    &.ant-btn.disabled:focus,\n    &.ant-btn[disabled]:focus,\n    &.ant-btn.disabled:active,\n    &.ant-btn[disabled]:active,\n    &.ant-btn.disabled.active,\n    &.ant-btn[disabled].active {\n      color: ",";\n      background-color: #f7f7f7;\n      border-color: ",";\n      cursor: not-allowed;\n    }\n\n    &.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline)\n      .anticon {\n      margin: ",";\n    }\n\n    &.isoButton {\n      display: inline-block;\n      margin-bottom: 0;\n      font-weight: 500;\n      text-align: center;\n      -ms-touch-action: manipulation;\n      touch-action: manipulation;\n      cursor: pointer;\n      background-image: none;\n      border: 0;\n      white-space: nowrap;\n      line-height: 1.5;\n      padding: 0 25px;\n      font-size: 13px;\n      border-radius: 4px;\n      height: 35px;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      position: relative;\n      color: #ffffff;\n      background-color: ",";\n      ",";\n\n      &:hover {\n        background-color: ",";\n      }\n\n      &.isoBtnSm {\n        padding: 0 15px;\n        height: 28px;\n        font-size: 12px;\n      }\n\n      &.isoBtnLg {\n        padding: 0 35px;\n        font-size: 14px;\n        height: 42px;\n      }\n    }\n  }\n\n  + .ant-btn-group {\n    margin-left: "," !important;\n    margin-right: "," !important;\n  }\n"]);return s=function(){return e},e}var u,p=t(574),d=(u=r.a,Object(o.b)(u)(s(),Object(i.palette)("text",1),Object(i.palette)("border",0),Object(c.c)(),Object(i.palette)("primary",0),Object(i.palette)("primary",0),(function(e){return"rtl"===e["data-rtl"]?"0 0.5em 0 0":"0 0 0 0.5em"}),(function(e){return"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"}),(function(e){return"rtl"===e["data-rtl"]?"rotate(180deg)":"rotate(0)"}),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",10),Object(i.palette)("primary",10),(function(e){return"rtl"===e["data-rtl"]?"0 24px 0 15px":"0 15px 0 24px"}),(function(e){return"rtl"===e["data-rtl"]?"0 -17px 0 0":"0 0 0 -17px"}),Object(i.palette)("border",1),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("error",0),Object(i.palette)("error",0),Object(i.palette)("error",2),Object(i.palette)("error",2),Object(i.palette)("error",0),Object(i.palette)("error",0),Object(i.palette)("error",2),Object(i.palette)("error",2),Object(i.palette)("grayscale",2),Object(i.palette)("border",0),(function(e){return"rtl"===e["data-rtl"]?"0 -14px 0 0":"0 0 0 -14px"}),Object(i.palette)("primary",0),Object(c.c)(),Object(i.palette)("primary",2),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}))),m=Object(p.a)(d),b=function(e){return Object(o.b)(e)(l(),Object(i.palette)("border",1),Object(c.c)(),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",0),Object(i.palette)("primary",10),(function(e){return"rtl"===e["data-rtl"]?"0 4px 4px 0":"4px 0 0 4px"}),(function(e){return"rtl"===e["data-rtl"]?"4px 0 0 4px":"0 4px 4px 0"}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",0):Object(i.palette)("primary",2)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",2):Object(i.palette)("primary",0)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",2):Object(i.palette)("primary",0)}),(function(e){return"rtl"===e["data-rtl"]?Object(i.palette)("primary",0):Object(i.palette)("primary",2)}),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}),(function(e){return"rtl"===e["data-rtl"]?"0":"-1px"}),(function(e){return"rtl"===e["data-rtl"]?"-1px":"0"}))}(r.a.Group);Object(p.a)(b),n.a=m},717:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(43);function i(){var e=Object(o.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: column;\n  overflow: hidden;\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return i=function(){return e},e}var c=t(30).b.div(i());n.a=function(e){return a.a.createElement(c,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},958:function(e,n,t){"use strict";t.r(n);t(932);var r=t(947),a=t(2),o=t.n(a),i=t(56),c=t(549),l=t(0),s=t.n(l),u=t(26),p=t(717),d=(t(538),t(539)),m=(t(540),t(541)),b=(t(544),t(543)),f=t(18),g=t(711),h=(t(547),t(548).a),y=t(19);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){Object(f.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=h.Item;var x=h.create({mapPropsToFields:function(e){return{firstName:h.createFormField(j({},e.firstName,{value:e.user.firstName})),lastName:h.createFormField(j({},e.lastName,{value:e.user.lastName})),userName:h.createFormField(j({},e.userName,{value:e.user.userName})),email:h.createFormField(j({},e.email,{value:e.user.email}))}}})((function(e){var n=e.form.getFieldDecorator;return s.a.createElement(d.a,{type:"flex",justify:"center"},s.a.createElement(m.a,{span:12},s.a.createElement(h,{className:"isoSignUpForm",onSubmit:function(n){n.preventDefault(),e.form.validateFieldsAndScroll((function(n,t){n||y.a.put("users/user",j({id:e.user.id},t)).then((function(e){console.log(e)}))}))}},s.a.createElement(d.a,{type:"flex",justify:"space-between"},s.a.createElement(m.a,{span:11},s.a.createElement(w,{label:s.a.createElement("span",null,"First Name:")},n("firstName",{rules:[{required:!0,message:"Please input your First Name!"}]})(s.a.createElement(b.a,{id:"inputFirstName",name:"inputFirstName",size:"large",placeholder:"First name",style:{marginRight:0}})))),s.a.createElement(m.a,{span:11},s.a.createElement(w,{label:s.a.createElement("span",null,"Last Name:")},n("lastName",{rules:[{required:!0,message:"Please input your Last Name!"}]})(s.a.createElement(b.a,{id:"inputLastName",name:"inputLastName",size:"large",placeholder:"Last name",style:{marginRight:0}}))))),s.a.createElement(w,{label:s.a.createElement("span",null,"User Name:")},n("userName",{rules:[{required:!0,message:"Please input your User Name!"}]})(s.a.createElement(b.a,{id:"inputUserName",name:"inputUserName",size:"large",placeholder:"User name"}))),s.a.createElement(w,{label:s.a.createElement("span",null,"Email:")},n("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your User Email!"}]})(s.a.createElement(b.a,{id:"email",name:"email",size:"large",placeholder:"Email"}))),s.a.createElement(g.a,{type:"primary",htmlType:"submit"},"SAVE"))))})),E=t(17);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){Object(f.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=h.Item;var N=h.create({mapPropsToFields:function(e){return{accountantEmail:h.createFormField(P({},e.accountantEmail,{value:e.settings.accountantEmail})),forwardEmail:h.createFormField(P({},e.forwardEmail,{value:e.settings.forwardEmail})),paymentPassword:h.createFormField(P({},e.paymentPassword,{value:e.settings.paymentPassword}))}}})((function(e){var n=e.form.getFieldDecorator;return s.a.createElement(d.a,{type:"flex",justify:"center"},s.a.createElement(m.a,{span:12},s.a.createElement(h,{className:"isoSignUpForm",onSubmit:function(n){n.preventDefault(),e.form.validateFieldsAndScroll((function(n,t){n||(t.modifiedBy=e.user.id,y.a.put("users/settings",t).then((function(e){200===e.status?Object(E.a)("success","Setting Updated"):Object(E.a)("error","something goes wrong")})))}))}},s.a.createElement(k,{label:s.a.createElement("span",null,"Accountant Email:")},n("accountantEmail",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your User Email!"}]})(s.a.createElement(b.a,{id:"inputUserName",name:"inputUserName",size:"large",placeholder:"Accountant Email"}))),s.a.createElement(k,{label:s.a.createElement("span",null,"Forward Email:")},n("forwardEmail",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Forward Email!"}]})(s.a.createElement(b.a,{id:"inputUserName",name:"inputUserName",size:"large",placeholder:"Accountant Email"}))),s.a.createElement(k,{label:s.a.createElement("span",null,"Payment Report Password:")},n("paymentPassword",{rules:[{required:!0,message:"Please input the payment Password!"}]})(s.a.createElement(b.a,{id:"paymentPassword",name:"paymentPassword",size:"large",placeholder:"Payment Password"}))),s.a.createElement(k,{label:s.a.createElement("span",null,"ExchangeRate Update Date:")},s.a.createElement("span",null,e.exchangeRateDate)),s.a.createElement(g.a,{type:"primary",htmlType:"submit"},"SAVE"))))}));function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var z=h.Item;var D=h.create()((function(e){var n=e.form.getFieldDecorator,t=Object(l.useState)(!1),r=Object(c.a)(t,2),a=r[0],o=r[1];return s.a.createElement(d.a,{type:"flex",justify:"center"},s.a.createElement(m.a,{span:12},s.a.createElement(h,{className:"isoSignUpForm",onSubmit:function(n){n.preventDefault(),e.form.validateFieldsAndScroll((function(n,t){n||(a?y.a.put("users/user",{id:e.user.id,newPassword:t.newPassword}).then((function(e){200===e.status?Object(E.a)("success","Password Updated"):Object(E.a)("error","something goes wrong")})):y.a.post("login",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){Object(f.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({username:e.user.userName},t)).then((function(n){console.log(n.data),n.data.error?e.form.setFields({password:{errors:[new Error(n.data.error)]}}):n.data.token?o(!0):Object(E.a)("error","something goes wrong")})))}))}},s.a.createElement(z,{hasFeedback:!0,label:s.a.createElement("span",null,"Old password:")},n("password",{rules:[{required:!0,message:"Please input your password!"},{validator:function(e,n,t){t()}}]})(s.a.createElement(b.a.Password,{id:"password",name:"password",size:"large",placeholder:"Password"}))),a?s.a.createElement(z,{hasFeedback:!0,label:s.a.createElement("span",null,"Old password:")},n("newPassword",{rules:[{required:!0,message:"Please input your password!"}]})(s.a.createElement(b.a.Password,{id:"newPassword",name:"password",size:"large",placeholder:"Password"}))):null,s.a.createElement(g.a,{type:"primary",htmlType:"submit"},a?"Update":"Verify"))))})),S=Object(u.c)((function(e){return{isLoggedIn:null!==e.Auth.idToken}}),{})(D),T=t(124),U=t.n(T);n.default=Object(u.c)((function(e){return{idToken:e.Auth.idToken}}),{})((function(e){var n=Object(l.useState)({}),t=Object(c.a)(n,2),a=t[0],u=t[1],d=Object(l.useState)({}),m=Object(c.a)(d,2),b=m[0],f=m[1],g=Object(l.useState)(null),h=Object(c.a)(g,2),O=h[0],j=h[1];return Object(l.useEffect)((function(){(function(){var n=Object(i.a)(o.a.mark((function n(){var t,r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.get("users/user",{idToken:e.idToken});case 2:return t=n.sent,n.next=5,y.a.get("users/settings");case 5:return r=n.sent,n.next=8,y.a.get("users/exchangeRateDate");case 8:a=n.sent,u(t.data),f(r.data),j(U()(a.data.date).format("DD MMM YYYY"));case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e.idToken]),s.a.createElement(p.a,{style:{height:"100vh"}},s.a.createElement(r.a,{defaultActiveKey:"1",onChange:function(e){},tabPosition:"left",type:"card",style:{height:"100vh"}},s.a.createElement(r.a.TabPane,{tab:"Profile",key:"1"},s.a.createElement(x,{user:a})),s.a.createElement(r.a.TabPane,{tab:"Password",key:"2"},s.a.createElement(S,{user:a})),s.a.createElement(r.a.TabPane,{tab:"Public Settings",key:"3"},s.a.createElement(N,{settings:b,exchangeRateDate:O,user:a})),s.a.createElement(r.a.TabPane,{tab:"Others",key:"4"},"Others")))}))}}]);
//# sourceMappingURL=23.f87341d1.chunk.js.map